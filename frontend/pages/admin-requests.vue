<template>
  <div class="p-6">
    <h2 class="text-2xl font-bold mb-4">ğŸ“¥ æ‰€æœ‰å……ç”µè¯·æ±‚</h2>
    <ul v-if="requests.length">
      <li v-for="req in requests" :key="req.request_id" class="mb-2 border p-4 rounded">
        <p><strong>è¯·æ±‚ID:</strong> {{ req.request_id }}</p>
        <p><strong>ç”¨æˆ·ID:</strong> {{ req.user_id }}</p>
        <p><strong>ç±»å‹:</strong> {{ req.requested_charge_type }}</p>
        <p><strong>çŠ¶æ€:</strong> {{ req.status }}</p>
        <p><strong>æ—¶é—´:</strong> {{ req.request_time }}</p>
      </li>
    </ul>
    <p v-else>æš‚æ— è¯·æ±‚æ•°æ®</p>
  </div>
</template>

<script setup lang="ts">
import { useAdminRequests } from '~/composables/useAdminRequests'
const { requests, fetchRequests } = useAdminRequests()
await fetchRequests()
</script>
